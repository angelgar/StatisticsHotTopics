---
title: "StatHopTopics"
author: "Angel Garcia de la Garza"
date: "11/20/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}

url <- "http://www.tandfonline.com/loi/uasa20"

h = read_html(url)

volume_year = h %>%
    html_nodes(".volume_link h3") %>%
    html_text()

map_dfr(volume_year, str_split(pattern = " "))

```



```{r}

library(rvest)
library(stringr)


url <- "http://www.tandfonline.com/loi/uasa20?open=111&year=2016"

volume <- 1:112

read_issues <- function(issue) {
  
  issues <- volume <- 1:112 + 
  
  url <- str_c("http://www.tandfonline.com/loi/uasa20?open=",volume,"111&year=",issues)

  h = read_html(url)
  
  issue = h %>%
    html_nodes(".issue-num") %>%
    html_text()
  
  data_frame(title, stars, text)
}




```




## R Markdown
```{r}

library(rvest)
library(stringr)
library(tidyverse)

url <- "http://www.tandfonline.com/toc/uasa20/108/502?nav=tocList"

read_page_reviews <- function(url) {
  
  h = read_html(url)
  
  title = h %>%
    html_nodes(".hlFld-Title") %>%
    html_text()
  
  views = h %>%
    html_nodes("li:nth-child(1) span") %>%
    html_text()
  
  citations = h %>%
    html_nodes("li:nth-child(2) span") %>%
    html_text()
  
  authors = h %>%
    html_nodes(".all") %>%
    html_text()
  
  data_frame(title, views, citations, authors)
  
}

url_base = "https://www.amazon.com/product-reviews/B00005JNBQ/ref=cm_cr_arp_d_viewopt_rvwer?ie=UTF8&reviewerType=avp_only_reviews&sortBy=recent&pageNumber="
urls = stringr::str_c(url_base, 1:100)

dynamite_reviews = map(urls, read_page_reviews) %>% 
  bind_rows

```

